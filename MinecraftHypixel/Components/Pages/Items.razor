@page "/items"
@rendermode InteractiveServer
@using MinecraftHypixel.Controllers
@using MinecraftHypixel.Models
@using MinecraftHypixel.Components.Pages

@inject ItemController _controller

<PageTitle>Items</PageTitle>

<h1>Prueba items @test</h1>
<button class="btn btn-primary" @onclick="Test">List</button>
@if(ItemsList != null)
{
    <table class="table table-striped table-bordered table-hover mt-3">
        <thead class="table-dark">
        <th>Id</th>
        <th>Material</th>
        <th>Color</th>
        <th>Name</th>
        <th>Category</th>
        <th>Tier</th>
        </thead>
        <tbody>
            @foreach (Item item in ItemsList)
            {
                <tr>
                    <td>@item.Id</td>
                    <td>@item.Material</td>
                    <td>@item.Color</td>
                    <td>@item.Name</td>
                    <td>@item.Category</td>
                    <td>@item.Tier</td>
                </tr>
            }
        </tbody>
    </table>
    <ItemEdit IsVisible="@showItemEdit" OnClose="OnCloseItemEdit">
        <h2>Popup Content</h2>
        <p>This is the content of the popup.</p>
        <button @onclick="OnCloseItemEdit">Close</button>
    </ItemEdit>


}

@code {
    string test = "Inicio";
    IEnumerable<Item>? ItemsList;
    bool showItemEdit = false;
    private async Task Test()
    {
        //ItemsList = await _controller.GetItems();
        showItemEdit = true;
    }
    private async Task OnCloseItemEdit()
    {
        showItemEdit = false;
    }
    // protected override async void OnInitialized()
    // {
    //     //test = await _controller.GetItems();
    // }
}
